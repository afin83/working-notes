<script setup lang="ts">
import { ref } from 'vue'
import { RouterLink } from 'vue-router'
import { Contrast, Sun, Moon } from 'lucide-vue-next'
import {
  NavigationMenu,
  NavigationMenuItem,
  NavigationMenuLink,
  NavigationMenuList,
} from '@/components/ui/navigation-menu'
import {
  Select,
  SelectContent,
  SelectGroup,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from '@/components/ui/select'

const theme = ref('default')
const mode = ref('auto')
</script>

<template>
  <nav class="border-b">
    <div class="flex items-center mx-auto max-w-screen-2xl py-7 px-5 sm:px-6 md:px-8 xl:px-10">
      <!-- Logo/Brand -->
      <RouterLink to="/" class="flex items-center gap-2 mr-8 hover:opacity-80 transition-opacity">
        <svg class="h-14 fill-primary" viewBox="0 0 99 56" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M6.41602 30.4346C6.61065 30.4347 6.79355 30.5073 6.96387 30.6533C7.1586 30.7751 7.28041 30.9342 7.3291 31.1289L11.7842 46.7598V31.1289C11.7842 30.9341 11.8451 30.7751 11.9668 30.6533C12.1128 30.5074 12.2838 30.4346 12.4785 30.4346H14.9619C15.1565 30.4346 15.3149 30.5075 15.4365 30.6533C15.5826 30.7751 15.6553 30.9341 15.6553 31.1289V55.3057C15.6553 55.5004 15.5826 55.6713 15.4365 55.8174C15.3148 55.939 15.1566 56 14.9619 56H11.7842C11.419 55.9269 11.1754 55.6952 11.0537 55.3057L6.30566 38.9805V55.3057C6.30566 55.5004 6.233 55.6713 6.08691 55.8174C5.96522 55.939 5.80696 56 5.6123 56H3.12891C2.93412 56 2.76327 55.9391 2.61719 55.8174C2.49545 55.6713 2.43457 55.5004 2.43457 55.3057V31.1289C2.43457 30.9341 2.49545 30.7751 2.61719 30.6533C2.76324 30.5073 2.93419 30.4346 3.12891 30.4346H6.41602ZM24.0596 30.4346C25.1794 30.4346 26.1655 30.7145 27.0176 31.2744C27.8698 31.8101 28.5276 32.5534 28.9902 33.5029C29.477 34.4279 29.7206 35.4625 29.7207 36.6064V49.8281C29.7206 50.9723 29.4771 52.0193 28.9902 52.9688C28.5276 53.8939 27.8697 54.6363 27.0176 55.1963C26.1655 55.7319 25.1795 56 24.0596 56H23.1104C22.0148 56 21.0406 55.7319 20.1885 55.1963C19.3364 54.6363 18.6666 53.8938 18.1797 52.9688C17.7171 52.0193 17.4854 50.9723 17.4854 49.8281V36.6064C17.4854 35.4624 17.7172 34.428 18.1797 33.5029C18.6666 32.5534 19.3363 31.8101 20.1885 31.2744C21.0406 30.7146 22.0148 30.4346 23.1104 30.4346H24.0596ZM42.959 30.4346C43.1537 30.4346 43.3128 30.5073 43.4346 30.6533C43.5806 30.7751 43.6533 30.9341 43.6533 31.1289V33.6123C43.6532 33.7826 43.5805 33.9409 43.4346 34.0869C43.3128 34.2087 43.1538 34.2695 42.959 34.2695H38.9785V55.3057C38.9785 55.5004 38.9058 55.6713 38.7598 55.8174C38.638 55.9391 38.479 56 38.2842 56H35.8008C35.6062 55.9999 35.436 55.9389 35.29 55.8174C35.1683 55.6713 35.1074 55.5004 35.1074 55.3057V34.2695H31.126C30.9314 34.2695 30.7612 34.2085 30.6152 34.0869C30.4936 33.9409 30.4327 33.7826 30.4326 33.6123V31.1289C30.4326 30.9341 30.4935 30.7751 30.6152 30.6533C30.7612 30.5076 30.9315 30.4347 31.126 30.4346H42.959ZM55.9287 30.4346C56.1233 30.4346 56.2817 30.5075 56.4033 30.6533C56.5494 30.7751 56.6221 30.9341 56.6221 31.1289V33.6123C56.622 33.7826 56.5493 33.9409 56.4033 34.0869C56.2816 34.2086 56.1234 34.2695 55.9287 34.2695H49.3184V41.2812H54.541C54.7356 41.2814 54.894 41.355 55.0156 41.501C55.1615 41.6227 55.2344 41.7809 55.2344 41.9756V44.459C55.2344 44.6538 55.1617 44.8246 55.0156 44.9707C54.894 45.0923 54.7356 45.1532 54.541 45.1533H49.3184V52.165H55.9287C56.1233 52.1651 56.2817 52.2379 56.4033 52.3838C56.5494 52.5055 56.622 52.6519 56.6221 52.8223V55.3057C56.6221 55.5004 56.5494 55.6713 56.4033 55.8174C56.2816 55.939 56.1233 55.9999 55.9287 56H46.1768C45.9822 55.9999 45.812 55.9389 45.666 55.8174C45.5443 55.6713 45.4834 55.5004 45.4834 55.3057V31.1289C45.4834 30.9341 45.5443 30.7751 45.666 30.6533C45.8119 30.5076 45.9823 30.4347 46.1768 30.4346H55.9287ZM64.3262 30.4346C65.446 30.4346 66.4321 30.7145 67.2842 31.2744C68.1364 31.8101 68.7942 32.5534 69.2568 33.5029C69.7436 34.4279 69.9873 35.4625 69.9873 36.6064V37.4473C69.9872 37.6175 69.9135 37.7759 69.7676 37.9219C69.6459 38.0678 69.4876 38.1406 69.293 38.1406H66.8096C66.6392 38.1406 66.481 38.0678 66.335 37.9219C66.189 37.7759 66.1154 37.6175 66.1152 37.4473V37.1182C66.1152 36.2905 65.9207 35.6089 65.5312 35.0732C65.1661 34.5377 64.6062 34.2696 63.8516 34.2695C63.1211 34.2695 62.5605 34.5376 62.1709 35.0732C61.7815 35.6088 61.5869 36.2905 61.5869 37.1182V38.25C61.5869 39.1752 61.7696 39.8694 62.1348 40.332C62.4269 40.6729 62.7559 40.9655 63.1211 41.209C63.5106 41.428 63.9979 41.659 64.582 41.9023C65.6045 42.3649 66.4688 42.852 67.1748 43.3633C67.9052 43.8746 68.5867 44.6543 69.2197 45.7012C69.4631 46.0907 69.6459 46.6261 69.7676 47.3076C69.9137 47.9894 69.9873 48.5009 69.9873 48.8418V49.8281C69.9872 50.9723 69.7437 52.0193 69.2568 52.9688C68.7942 53.894 68.1363 54.6363 67.2842 55.1963C66.4321 55.7319 65.4461 56 64.3262 56H63.376C62.2806 55.9999 61.3071 55.7318 60.4551 55.1963C59.603 54.6364 58.9332 53.8938 58.4463 52.9688C57.9837 52.0193 57.752 50.9723 57.752 49.8281V49.1338C57.752 48.9391 57.8129 48.7809 57.9346 48.6592C58.0807 48.5131 58.2515 48.4395 58.4463 48.4395H60.8926C61.0874 48.4395 61.2464 48.5131 61.3682 48.6592C61.514 48.7809 61.5869 48.9392 61.5869 49.1338V49.3164C61.5869 50.1441 61.7815 50.8257 62.1709 51.3613C62.5605 51.897 63.1211 52.165 63.8516 52.165C64.6062 52.165 65.1661 51.8969 65.5312 51.3613C65.9207 50.8257 66.1152 50.1441 66.1152 49.3164V48.8418C66.1152 48.5009 66.0544 48.0866 65.9326 47.5996C65.8352 47.1129 65.6407 46.6992 65.3486 46.3584C65.0565 45.9932 64.703 45.7006 64.2891 45.4814C63.8752 45.238 63.3398 44.9944 62.6826 44.751C61.5627 44.3371 60.6376 43.8745 59.9072 43.3633C59.2011 42.852 58.6169 42.036 58.1543 40.916C58.0082 40.5508 57.8982 40.1128 57.8252 39.6016C57.7765 39.0659 57.752 38.6152 57.752 38.25V36.6064C57.752 35.4623 57.9838 34.428 58.4463 33.5029C58.9332 32.5534 59.6029 31.8101 60.4551 31.2744C61.307 30.7147 62.2807 30.4346 63.376 30.4346H64.3262ZM97.4541 52.1953C97.65 52.1954 97.8092 52.2683 97.9316 52.4131C98.0786 52.5338 98.1523 52.6907 98.1523 52.8838V55.3477C98.1523 55.5167 98.0786 55.6735 97.9316 55.8184C97.8092 55.9391 97.65 55.9999 97.4541 56H75.2637C75.0676 56 74.8961 55.9391 74.749 55.8184C74.6266 55.6735 74.5654 55.5167 74.5654 55.3477V52.8838C74.5654 52.6906 74.6266 52.5338 74.749 52.4131C74.8961 52.2682 75.0676 52.1953 75.2637 52.1953H97.4541ZM23.585 34.2695C22.8545 34.2695 22.2939 34.5376 21.9043 35.0732C21.5149 35.6088 21.3203 36.2905 21.3203 37.1182V49.3164C21.3203 50.144 21.5149 50.8257 21.9043 51.3613C22.2939 51.897 22.8545 52.165 23.585 52.165C24.3396 52.165 24.8995 51.8969 25.2646 51.3613C25.6541 50.8257 25.8486 50.1441 25.8486 49.3164V37.1182C25.8486 36.2904 25.6541 35.6089 25.2646 35.0732C24.8995 34.5377 24.3396 34.2696 23.585 34.2695ZM3.06738 0C3.26208 0 3.43306 0.0727977 3.5791 0.21875C3.72519 0.340489 3.81061 0.499555 3.83496 0.694336L6.46387 17.2744L8.94824 0.694336C8.97259 0.499561 9.05705 0.340487 9.20312 0.21875C9.34921 0.09701 9.52006 0.0243474 9.71484 0H12.125C12.3196 0 12.4779 0.0729349 12.5996 0.21875C12.7457 0.340489 12.8439 0.499555 12.8926 0.694336L15.376 17.2744L18.0049 0.694336C18.0536 0.499555 18.1518 0.340489 18.2979 0.21875C18.4438 0.0729704 18.614 1.94083e-05 18.8086 0H21.2559C21.4505 5.87138e-05 21.597 0.0727584 21.6943 0.21875C21.816 0.340484 21.8642 0.499574 21.8398 0.694336L18.0049 24.8711C17.9805 25.0658 17.896 25.2367 17.75 25.3828C17.6039 25.5045 17.433 25.5654 17.2383 25.5654H14.0244C13.8297 25.5654 13.6469 25.5045 13.4766 25.3828C13.3305 25.2367 13.2451 25.0659 13.2207 24.8711L10.9199 8.5459L8.61914 24.8711C8.57045 25.0659 8.47324 25.2367 8.32715 25.3828C8.18107 25.5045 8.0102 25.5654 7.81543 25.5654H4.63867C4.44395 25.5654 4.27301 25.5045 4.12695 25.3828C3.98087 25.2367 3.88366 25.0659 3.83496 24.8711L0 0.694336V0.621094C0 0.450659 0.0490932 0.304356 0.146484 0.182617C0.268098 0.0610944 0.413796 8.62527e-05 0.583984 0H3.06738ZM29.543 0C30.6628 5.344e-05 31.6489 0.279908 32.501 0.839844C33.353 1.3754 34.0101 2.11807 34.4727 3.06738C34.9596 3.99252 35.2031 5.02764 35.2031 6.17188V19.3926C35.2031 20.5369 34.9596 21.5846 34.4727 22.5342C34.0101 23.4592 33.353 24.2018 32.501 24.7617C31.6489 25.2973 30.6628 25.5654 29.543 25.5654H28.5928C27.4972 25.5654 26.523 25.2973 25.6709 24.7617C24.819 24.2018 24.15 23.4591 23.6631 22.5342C23.2005 21.5846 22.9688 20.5369 22.9688 19.3926V6.17188C22.9688 5.02764 23.2005 3.99252 23.6631 3.06738C24.15 2.11816 24.819 1.37539 25.6709 0.839844C26.523 0.279898 27.4972 5.27859e-05 28.5928 0H29.543ZM43.8867 0C45.6154 0 46.9429 0.414363 47.8682 1.24219C48.7932 2.04567 49.2559 3.27519 49.2559 4.93066V8.40039C49.2558 9.47151 48.9877 10.3722 48.4521 11.1025C47.9165 11.8329 47.1859 12.3927 46.2607 12.7822C47.186 13.1718 47.9165 13.7325 48.4521 14.4629C48.9877 15.1933 49.2558 16.0938 49.2559 17.165V24.8711C49.2559 25.0659 49.1832 25.2367 49.0371 25.3828C48.9154 25.5046 48.7563 25.5654 48.5615 25.5654H46.0781C45.8836 25.5654 45.7133 25.5043 45.5674 25.3828C45.4456 25.2367 45.3848 25.0659 45.3848 24.8711V16.7637C45.3361 16.082 45.0561 15.5704 44.5449 15.2295C44.0336 14.8886 43.3757 14.7178 42.5723 14.7178H40.8555V24.8711C40.8555 25.0659 40.7828 25.2367 40.6367 25.3828C40.515 25.5044 40.3567 25.5654 40.1621 25.5654H37.7148C37.5203 25.5654 37.3501 25.5043 37.2041 25.3828C37.0824 25.2367 37.0215 25.0659 37.0215 24.8711V0.694336C37.0215 0.499555 37.0824 0.340489 37.2041 0.21875C37.3501 0.0729617 37.5203 4.53894e-05 37.7148 0H43.8867ZM54.251 0C54.4456 2.52986e-05 54.6039 0.0728613 54.7256 0.21875C54.8473 0.340489 54.9082 0.499555 54.9082 0.694336V10.8467L59.4365 0.694336C59.5339 0.499555 59.6684 0.340489 59.8389 0.21875C60.0335 0.0728562 60.2282 4.72193e-05 60.4229 0H62.9062C63.2226 0 63.3807 0.133789 63.3809 0.401367L63.3086 0.694336L57.8662 12.8193L63.2354 24.8711L63.3086 25.1631C63.3086 25.4309 63.1622 25.5654 62.8701 25.5654H60.3867C60.1919 25.5654 59.9965 25.5046 59.8018 25.3828C59.607 25.2367 59.4734 25.0658 59.4004 24.8711L55.9678 17.1289L54.9082 19.4658V24.8711C54.9082 25.0659 54.8473 25.2367 54.7256 25.3828C54.6039 25.5044 54.4456 25.5654 54.251 25.5654H51.7676C51.5728 25.5654 51.4019 25.5045 51.2559 25.3828C51.1341 25.2367 51.0732 25.0659 51.0732 24.8711V0.694336C51.0732 0.499555 51.1341 0.340489 51.2559 0.21875C51.4019 0.0727097 51.5728 0 51.7676 0H54.251ZM68.374 0C68.5688 0 68.7279 0.0726625 68.8496 0.21875C68.9956 0.340479 69.0684 0.499595 69.0684 0.694336V24.8711C69.0684 25.0658 68.9956 25.2367 68.8496 25.3828C68.7279 25.5046 68.5688 25.5654 68.374 25.5654H65.8906C65.6961 25.5654 65.5258 25.5043 65.3799 25.3828C65.2581 25.2367 65.1973 25.0659 65.1973 24.8711V0.694336C65.1973 0.499555 65.2581 0.340489 65.3799 0.21875C65.5258 0.0729545 65.6961 6.42119e-05 65.8906 0H68.374ZM74.8848 0C75.0794 0.000100902 75.2623 0.0727635 75.4326 0.21875C75.6273 0.340477 75.7492 0.499601 75.7979 0.694336L80.2529 16.3252V0.694336C80.2529 0.499555 80.3138 0.340489 80.4355 0.21875C80.5816 0.0727529 80.7525 0 80.9473 0H83.4307C83.6253 5.62174e-05 83.7836 0.0728516 83.9053 0.21875C84.0514 0.340489 84.124 0.499555 84.124 0.694336V24.8711C84.124 25.0659 84.0514 25.2367 83.9053 25.3828C83.7836 25.5044 83.6253 25.5654 83.4307 25.5654H80.2529C79.8877 25.4924 79.6442 25.2606 79.5225 24.8711L74.7744 8.5459V24.8711C74.7744 25.0659 74.7018 25.2367 74.5557 25.3828C74.434 25.5044 74.2757 25.5654 74.0811 25.5654H71.5977C71.4029 25.5654 71.232 25.5045 71.0859 25.3828C70.9642 25.2367 70.9033 25.0659 70.9033 24.8711V0.694336C70.9033 0.499555 70.9642 0.340489 71.0859 0.21875C71.232 0.0727326 71.4029 0 71.5977 0H74.8848ZM92.5283 0C93.6482 1.84614e-05 94.6342 0.279936 95.4863 0.839844C96.3384 1.37545 96.9964 2.11792 97.459 3.06738C97.9459 3.99252 98.1894 5.02764 98.1895 6.17188V8.40039C98.1893 8.57067 98.1157 8.72903 97.9697 8.875C97.848 8.99658 97.6898 9.05762 97.4951 9.05762H95.0117C94.8169 9.05762 94.6461 8.99674 94.5 8.875C94.3784 8.72904 94.3175 8.57065 94.3174 8.40039V6.68359C94.3174 5.85591 94.1228 5.17428 93.7334 4.63867C93.3682 4.10309 92.8083 3.83503 92.0537 3.83496C91.3233 3.83496 90.7626 4.10302 90.373 4.63867C89.9837 5.17425 89.7891 5.85601 89.7891 6.68359V18.8818C89.7891 19.7094 89.9836 20.3912 90.373 20.9268C90.7626 21.4624 91.3233 21.7305 92.0537 21.7305C92.8083 21.7304 93.3682 21.4623 93.7334 20.9268C94.1229 20.3912 94.3174 19.7096 94.3174 18.8818V15.96H92.5283C92.3579 15.96 92.1998 15.899 92.0537 15.7773C91.932 15.6313 91.8711 15.4604 91.8711 15.2656V12.7822C91.8712 12.5876 91.932 12.4293 92.0537 12.3076C92.1997 12.1617 92.358 12.0889 92.5283 12.0889H97.4951C97.6898 12.0889 97.848 12.1617 97.9697 12.3076C98.1157 12.4293 98.1894 12.5876 98.1895 12.7822V19.3926C98.1895 20.5369 97.9459 21.5846 97.459 22.5342C96.9964 23.4593 96.3385 24.2017 95.4863 24.7617C94.6342 25.2973 93.6482 25.5654 92.5283 25.5654H91.5791C90.4836 25.5654 89.5093 25.2973 88.6572 24.7617C87.8052 24.2018 87.1354 23.4592 86.6484 22.5342C86.1858 21.5846 85.9541 20.5369 85.9541 19.3926V6.17188C85.9541 5.02764 86.1859 3.99252 86.6484 3.06738C87.1354 2.11803 87.8052 1.37541 88.6572 0.839844C89.5093 0.279974 90.4836 0 91.5791 0H92.5283ZM29.0674 3.83496C28.3372 3.83508 27.7772 4.10314 27.3877 4.63867C26.9983 5.17427 26.8037 5.85596 26.8037 6.68359V18.8818C26.8037 19.7095 26.9982 20.3912 27.3877 20.9268C27.7772 21.4623 28.3372 21.7304 29.0674 21.7305C29.8222 21.7305 30.3828 21.4624 30.748 20.9268C31.1375 20.3912 31.332 19.7095 31.332 18.8818V6.68359C31.332 5.85596 31.1374 5.17427 30.748 4.63867C30.3828 4.10302 29.8222 3.83496 29.0674 3.83496ZM40.8555 10.8467H42.5723C43.3757 10.8467 44.0336 10.6768 44.5449 10.3359C45.0562 9.99508 45.3361 9.48344 45.3848 8.80176V5.22266C45.3361 4.58965 45.0925 4.19982 44.6543 4.05371C44.2404 3.90762 43.5462 3.83496 42.5723 3.83496H40.8555V10.8467Z"
          />
        </svg>
      </RouterLink>

      <!-- Main Navigation Links -->
      <NavigationMenu>
        <NavigationMenuList>
          <NavigationMenuItem>
            <NavigationMenuLink as-child>
              <RouterLink
                to="/dashboard"
                class="group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"
              >
                Home
              </RouterLink>
            </NavigationMenuLink>
          </NavigationMenuItem>

          <NavigationMenuItem>
            <NavigationMenuLink as-child>
              <RouterLink
                to="/notes"
                class="group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"
              >
                About
              </RouterLink>
            </NavigationMenuLink>
          </NavigationMenuItem>

          <NavigationMenuItem>
            <NavigationMenuLink as-child>
              <RouterLink
                to="/tags"
                class="group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"
              >
                Notes
              </RouterLink>
            </NavigationMenuLink>
          </NavigationMenuItem>

          <NavigationMenuItem>
            <NavigationMenuLink as-child>
              <RouterLink
                to="/notes"
                class="group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"
              >
                Contact
              </RouterLink>
            </NavigationMenuLink>
          </NavigationMenuItem>
        </NavigationMenuList>
      </NavigationMenu>

      <!-- Spacer to push right side to the end -->
      <div class="flex-1"></div>

      <!-- Right side actions -->
      <div class="flex items-center gap-3">
        <!-- Theme Selector with prepend label -->
        <div class="flex items-center gap-2 border rounded-md px-3 h-9 bg-background">
          <span class="text-sm text-muted-foreground whitespace-nowrap">Theme:</span>
          <Select v-model="theme">
            <SelectTrigger class="border-0 shadow-none h-auto p-0 focus:ring-0 w-[110px]">
              <SelectValue placeholder="Theme" />
            </SelectTrigger>
            <SelectContent>
              <SelectGroup>
                <SelectItem value="default">Default</SelectItem>
                <SelectItem value="blue">Blue</SelectItem>
              </SelectGroup>
            </SelectContent>
          </Select>
        </div>

        <!-- Mode Selector with icon only in collapsed view -->
        <!-- Mode Selector with prepend icon -->
        <Select v-model="mode">
          <SelectTrigger class="w-[60px] h-9 px-3">
            <Contrast v-if="mode === 'auto'" class="h-4 w-4 shrink-0" />
            <Sun v-if="mode === 'light'" class="h-4 w-4 shrink-0" />
            <Moon v-if="mode === 'dark'" class="h-4 w-4 shrink-0" />
          </SelectTrigger>
          <SelectContent>
            <SelectGroup>
              <SelectItem value="auto">
                <div class="flex items-center gap-2">
                  <Contrast class="h-4 w-4" />
                  <span>Auto</span>
                </div>
              </SelectItem>
              <SelectItem value="light">
                <div class="flex items-center gap-2">
                  <Sun class="h-4 w-4" />
                  <span>Light</span>
                </div>
              </SelectItem>
              <SelectItem value="dark">
                <div class="flex items-center gap-2">
                  <Moon class="h-4 w-4" />
                  <span>Dark</span>
                </div>
              </SelectItem>
            </SelectGroup>
          </SelectContent>
        </Select>
      </div>
    </div>
  </nav>
</template>
